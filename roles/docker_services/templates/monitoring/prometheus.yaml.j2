---
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: prometheus
    static_configs:
      - targets: ["localhost:9090"]

  - job_name: grafana
    static_configs:
      - targets: ["grafana:3000"]

  - job_name: node
    static_configs:
      - targets:
          - "big-slice.home:9100"
          - "small-slice-01.home:9100"
          - "small-slice-02.home:9100"
          - "small-slice-03.home:9100"
          - "small-slice-04.home:9100"

  - job_name: cadvisor
    static_configs:
      - targets:
          - "big-slice.home:8080"
          - "small-slice-01.home:8080"
          - "small-slice-02.home:8080"
          - "small-slice-03.home:8080"
          - "small-slice-04.home:8080"

  - job_name: docker
    static_configs:
      - targets:
          - "big-slice.home:9323"
          - "small-slice-01.home:9323"
          - "small-slice-02.home:9323"
          - "small-slice-03.home:9323"
          - "small-slice-04.home:9323"

  - job_name: speedtest-exporter
    scrape_interval: 1h
    scrape_timeout: 1m
    static_configs:
      - targets: ["speedtest-exporter:9798"]

  - job_name: unifipoller
    scrape_interval: 30s
    static_configs:
      - targets: ["unpoller:9130"]

  - job_name: uptime
    scrape_interval: 30s
    static_configs:
      - targets: ["uptime-kuma:3001"]
    basic_auth:
      username: "{{ vault_uptime_kuma_username }}"
      password: "{{ vault_uptime_kuma_password }}"

  - job_name: jellyfin
    static_configs:
      - targets: ["big-slice.home:8096"]

  - job_name: nut
    metrics_path: /ups_metrics
    static_configs:
      - targets: ["nut-exporter:9199"]
